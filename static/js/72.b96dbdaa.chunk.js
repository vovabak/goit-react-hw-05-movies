"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[72],{148:function(n,e,t){t.d(e,{IQ:function(){return h},Pg:function(){return f},Tn:function(){return g},XT:function(){return l},hY:function(){return s}});var r=t(861),i=t(757),o=t.n(i),a=t(44),c="https://api.themoviedb.org/3/",u={api_key:"2fb750d568eb262625e8479b2db30963"};function s(n){return p.apply(this,arguments)}function p(){return p=(0,r.Z)(o().mark((function n(e){var t,r,i,s=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:"movie",r=s.length>2&&void 0!==s[2]?s[2]:"week",u.page=e,n.next=5,a.ZP.get("".concat(c,"trending/").concat(t,"/").concat(r),{params:u});case 5:return i=n.sent,n.abrupt("return",i);case 7:case"end":return n.stop()}}),n)}))),p.apply(this,arguments)}function l(n,e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(o().mark((function n(e,t){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u.query=e,u.page=t,n.next=4,a.ZP.get("".concat(c,"search/movie"),{params:u});case 4:return r=n.sent,n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(o().mark((function n(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.ZP.get("".concat(c,"movie/").concat(e),{params:u});case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(o().mark((function n(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.ZP.get("".concat(c,"movie/").concat(e,"/credits"),{params:u});case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)(o().mark((function n(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.ZP.get("".concat(c,"movie/").concat(e,"/reviews"),{params:u});case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},1:function(n,e,t){t.d(e,{n:function(){return c}});var r,i=t(168),o=t(444).ZP.button(r||(r=(0,i.Z)(["    \n    margin: 10px 0;\n    padding: 10px;\n    border-radius: 4px;\n    background-color: tomato;\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    text-align: center;\n    display: inline-block;\n    color: #fff;\n    border: 0;\n    text-decoration: none;\n    outline: none;\n    cursor: pointer;\n    font-family: inherit;\n    font-size: 16px;    \n    width: 100px;\n    \n        :hover, :focus {\n            opacity: 0.8;\n            box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n                0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n        }\n    "]))),a=t(184),c=function(n){var e=n.onClick,t=n.children;return(0,a.jsx)(o,{type:"button",onClick:e,children:t})}},150:function(n,e,t){t.d(e,{O:function(){return b}});var r,i,o,a,c,u=t(689),s=t(168),p=t(731),l=t(444),d=l.ZP.ul(r||(r=(0,s.Z)(["\n    display: grid;\n    max-width: calc(100vw - 40px);\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n    grid-gap: 10px;\n    margin: 0 auto;    \n    padding: 10px 0;\n    list-style: none;\n    border-bottom: 1px solid tomato;\n    background-color: #fffbf5;\n    "]))),f=l.ZP.li(i||(i=(0,s.Z)(["    \n    width: 200px;\n    margin: 0 auto;\n    background-color: #fff;\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n                0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n    \n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n        :hover, :focus {            \n            transform: scale(1.05);\n        }\n    "]))),x=l.ZP.h1(o||(o=(0,s.Z)(["\n    margin: auto 0;\n    padding: 10px 10px 10px 10px;\n    text-align: center;\n    font-size: 20px;    \n    "]))),h=(0,l.ZP)(p.OL)(a||(a=(0,s.Z)(["\n    display: flex;\n    flex-direction: column;    \n    justify-content: space-between;\n    height: 100%;\n    text-decoration: none;\n    cursor: inherit;\n    color: inherit;\n    outline: none;    \n    "]))),m=l.ZP.img(c||(c=(0,s.Z)(["\n    display: block;\n    width: 100%;\n    height: 300px;\n    object-fit: cover;\n    "]))),g=t(184),b=function(n){var e=n.movies,t=(0,u.TH)();return(0,g.jsx)(d,{children:e.map((function(n){var e=n.id,r=n.title,i=n.poster_path;return(0,g.jsx)(f,{children:(0,g.jsxs)(h,{to:"/movies/:".concat(e),state:{from:t},children:[(0,g.jsx)(x,{children:r}),(0,g.jsx)(m,{src:"https://image.tmdb.org/t/p/w200".concat(i),alt:r})]})},e)}))})}},72:function(n,e,t){t.r(e),t.d(e,{default:function(){return q}});var r,i,o,a,c,u,s,p=t(982),l=t(885),d=t(791),f=t(731),x=t(596),h=t(148),m=t(983),g=t(820),b=t(168),v=t(444),Z=v.ZP.form(r||(r=(0,b.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 0 auto;\n    padding: 20px 0 0 0;\n    width: 100%;\n    max-width: 600px;    \n    border-radius: 3px;\n    overflow: hidden;\n    "]))),w=v.ZP.button(i||(i=(0,b.Z)(["\n    display: inline-block;\n    margin-left: -40px;\n    width: 40px;\n    height: 40px;\n    border: 0;\n    color: tomato;\n    background-color: inherit;\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    cursor: pointer;\n    outline: none;\n        :hover {\n            color: red;            \n        }\n    "]))),y=v.ZP.span(o||(o=(0,b.Z)(["\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    clip-path: inset(50%);\n    border: 0;\n    "]))),k=v.ZP.input(a||(a=(0,b.Z)(["\n    display: inline-block;\n    width: 100%;\n    height: 25px;\n    font: inherit;\n    font-size: 14px;    \n    border: 1px solid tomato;\n    border-radius: 4px;\n    outline: none;\n    padding-left: 4px;\n    padding - right: 4px;\n    background-color: inherit;\n        ::placeholder {\n            opacity: 0.4;\n            font: inherit;\n        }\n    "]))),j=v.ZP.label(c||(c=(0,b.Z)(["\n    width: 50%;\n    "]))),P=t(184),S=function(n){var e=n.searchQuery,t=n.onSubmit,r=(0,d.useState)(e),i=(0,l.Z)(r,2),o=i[0],a=i[1];return(0,P.jsxs)(Z,{onSubmit:function(n){if(n.preventDefault(),""===o.trim().toLowerCase())return(0,x.Am)("Please, enter some query"),void(n.currentTarget.input.value="");o!==e?t(o):(0,x.Am)("Please, try different query")},children:[(0,P.jsxs)(w,{type:"submit",children:[(0,P.jsx)(y,{children:"Search"}),(0,P.jsx)(m.Pd.Provider,{value:{size:"100%",style:{verticalAlign:"middle"}},children:(0,P.jsx)(g.RB5,{})})]}),(0,P.jsx)(j,{"aria-label":"search movie",children:(0,P.jsx)(k,{value:o,type:"text",name:"input",onChange:function(n){a(n.currentTarget.value)},placeholder:"Find Your favorite movie"})})]})},_=t(150),z=t(1),C=v.ZP.main(u||(u=(0,b.Z)(["\n    width: 100wv;\n    height: 100vh;\n    text-align: center;\n    background-color: #fffbf5\n    "]))),T=v.ZP.p(s||(s=(0,b.Z)(["\n    margin: 0;\n    padding: 20px;    \n    color: red;\n    "]))),q=function(){var n,e=(0,d.useState)([]),t=(0,l.Z)(e,2),r=t[0],i=t[1],o=(0,d.useState)(null),a=(0,l.Z)(o,2),c=a[0],u=a[1],s=(0,d.useState)("idle"),m=(0,l.Z)(s,2),g=m[0],b=m[1],v=(0,d.useState)(null),Z=(0,l.Z)(v,2),w=Z[0],y=Z[1],k=(0,d.useState)(!0),j=(0,l.Z)(k,2),q=j[0],A=j[1],E=(0,f.lr)(),L=(0,l.Z)(E,2),O=L[0],Q=L[1],Y=null!==(n=O.get("query"))&&void 0!==n?n:"";(0,d.useEffect)((function(){u(1)}),[]),(0,d.useEffect)((function(){Y&&c&&(b("pending"),(0,h.XT)(Y,c).then((function(n){if(0===n.data.total_pages)throw new Error("Sorry, tere's no ".concat(Y," movie in our store"));1===n.data.total_pages&&A(!1),n.data.total_pages<c&&c>1&&(A(!1),(0,x.Am)("It seems You've just reached the end of the list")),i((function(e){return[].concat((0,p.Z)(e),(0,p.Z)(n.data.results))})),b("resolved")})).catch((function(n){y(n.message),A(!1),b("rejected")})))}),[Y,c]);return(0,P.jsxs)(C,{children:[(0,P.jsx)(S,{searchQuery:Y,onSubmit:function(n){i([]),u(1),A(!0),Q({query:n})}}),"rejected"===g&&(0,P.jsx)(T,{children:w}),"resolved"===g&&(0,P.jsx)(_.O,{movies:r}),"resolved"===g&&q&&(0,P.jsx)(z.n,{onClick:function(){return u((function(n){return n+1}))},children:"Load more"})]})}}}]);
//# sourceMappingURL=72.b96dbdaa.chunk.js.map